<div class="dc-gallery-sort-filter-container">
  <div class="dc-gallery-sort-filter-option">
    <label for="dc-gallery-search-assignment">
      Assignment:
    </label>
    <select id="dc-gallery-search-assignment" data-ng-model="sortAndFilter.selected.assignment" data-ng-change="resizeIFrame()" data-ng-options="assignment.name for assignment in assignments">
      <option value="">All Assignments</option>
    </select>
  </div>

  <div class="dc-gallery-sort-filter-option">
    <label for="dc-gallery-search-filter">
      Filter by:
    </label>
    <select id="dc-gallery-search-filter" data-ng-model="sortAndFilter.selected.type" data-ng-change="resizeIFrame()" data-ng-options="type.display for type in sortAndFilter.options.type">
      <option value="">All Types</option>
    </select>
  </div>

  <div class="dc-gallery-sort-filter-option">
    <label for="dc-gallery-search-sort">
      Sort by:
    </label>
    <select id="dc-gallery-search-sort" data-ng-model="sortAndFilter.selected.sort" data-ng-change="resizeIFrame()" data-ng-options="sort.display for sort in sortAndFilter.options.sort"></select>
  </div>

  <div class="dc-gallery-sort-filter-option">
    <label for="dc-gallery-search-text">
      Search For Student:
    </label>
    <input id="dc-gallery-search-text" type="text" data-ng-change="resizeIFrame()" data-ng-model="sortAndFilter.selected.search.author">
  </div>
</div>

<div class="dc-gallery-list" data-ng-repeat="item in items | orderBy:sortAndFilter.selected.sort.value:true | filter:sortAndFilter.selected.search | filter:{assignment_id:sortAndFilter.selected.assignment.canvas_assignment_id || ''} | filter:{type:sortAndFilter.selected.type.value || ''}">
  <div class="dc-thumbnail-item-container">
    <a class="dc-button-link dc-thumbnail-item" data-ng-href="/canvas/embedded/gallery/item/{{item.id}}" data-ng-click="handleGalleryItemClick(item)" data-ng-style="item.image_url && {'background-image': 'url(' + item.image_url + ')'}">
      <div class="dc-thumbnail-hover">
        <p>
          {{item.title}} <br>
          Posted by {{item.author}}
        </p>
      </div>
    </a>
    <div class="dc-thumbnail-caption">
      <div data-ng-include="'gallery_likes.html'"></div>

      <div>
        <span data-ng-pluralize count="item.comment_count" when="{'1': '1 comment', 'other': '{} comments'}"></span> &bullet;
        <span data-ng-pluralize count="item.views" when="{'1': '1 view', 'other': '{} views'}"></span>
      </div>
      <div>
        <span data-ng-if="item.date">Posted on {{item.date | date:'MM/dd/yyyy'}}</span>
      </div>
    </div>
  </div>
</div>
